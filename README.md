# spirink_assignment

특정 비즈니스 로직을 수행하는 LLM 챗봇 개발

## 1. 실행

```bash
docker compose up --build
```

- localhost:8501 접속하여 챗봇 사용하기
- 사이드바에서 llm API 선택 가능

## 2. 과제 구현 내용

- Client를 streamlit으로, Server를 FastAPI로 구현

### 2-1) 비즈니스 로직 구현

> 제공된 비즈니스 로직을 정확하고 효율적으로 구현

- 비즈니스 로직 설명에 주어진 4가지 사항을 수행하도록 프롬프트 작성
- 구글 스프레드 시트에서 정보를 받아와 chromadb에 저장하고, RAG 하도록 구현
- Server의 경우 확장성과 유지보수를 고려하여 모듈화를 적용해 아키텍처 설계함.

### 2-2) LLM

> 선택한 LLM API를 효과적으로 활용하여 챗봇에 통합

- OpenAI 와 Anthropic을 모듈화 하여 추가함. (추후 다른 LLM도 모듈화하여 추가할 수 있도록 모듈화 진행)
- Client에서 이전 대화 기록을 포함하여 메세지를 전달하여, 대화 맥락 유지
- 모델의 최적화를 위해 파라미터 설정 적용 : temperature, max_tokens

### 2-3) 보안 및 모니터링

> 사용자 데이터와 API 키 등의 민감한 정보를 안전하게 관리

- `.env` 파일을 이용하여 관리
- 로깅 모듈을 만들어 시스템 성능과 오류 추적하는 기능 구현

## 3. 추가 고려 사항 (미구현)

- 메세지가 max_length 를 넘어가는 경우 예외처리
- 비즈니스 로직 실행을 LangGraph 활용하여 조건부 실행이 가능하도록 구현하기
  - 고객의 쿼리를 분석하여 "정보"를 더 물어봐야 하는지, 상품을 "추천" 해야하는 지 등을 판단
  - 상품을 "추천"하는 경우 RAG에서 매칭되는 문서를 확인하고, 없다면 openSearch 등을 통하여 reference 생성
  - 목표와 추가된 context 를 바탕으로 답변 생성
- 테스트 코드
- git CI/CD
- 데이터 처리 (DB 저장 등)
